<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    
    <title>Lambdas and High-order Functions | Zac&#39;s Blog</title>
    <meta name="description" content="Lambdas and high-order functions introduction">
    <meta name="author" content="">
    
    <link rel="apple-touch-icon" sizes="180x180" href=https://zacash.cn/apple-touch-icon.png>
    <link rel="icon" type="image/png" sizes="32x32" href=https://zacash.cn/favicon-32x32.png>
    <link rel="icon" type="image/png" sizes="16x16" href=https://zacash.cn/favicon-16x16.png>
    <link rel="manifest" href=https://zacash.cn/site.webmanifest>
    <link rel="mask-icon" href=https://zacash.cn/safari-pinned-tab.svg color="#00416a">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="me" href="mailto:zac_ju@163.com">
    <link rel="me" href="https://github.com/zac4j">
    
    
    
    <link rel="authorization_endpoint" href=https://indieauth.com/auth />
    <link rel="token_endpoint" href=https://tokens.indieauth.com/token />
    
    
    
    
    
    <link rel="stylesheet" href=https://zacash.cn/css/fonts.css />
    <link rel="stylesheet" href=https://zacash.cn/css/style.css />
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <div id="sitelogo">
        <a class="glyph" alt="Home" href="https://zacash.cn"><img src=https://zacash.cn/images/site-logo.svg alt="Site Logo" height="64px" width="64px"></a>
    </div>
    <header>
        <nav>
    
    <div id="page-nav">
        <div class="page-nav-item">
            <a href="https://zacash.cn">Home</a>
        </div>
        
    </div>
</nav>
        
    </header>




<div id="content">
    <article class="h-entry">
        <header>
            <h1 class="post-title p-name">Lambdas and High-order Functions</h1>
            
            <p class="post-date">Posted on
                <time class="dt-published" datetime="2020-08-09T00:00:00Z">
                    9 August, 2020 at 00:00 UTC
                </time>  by <a href="https://zacash.cn" class="p-author h-card"
                    rel="author">Zac</a>
            </p>
            
            
        </header>
        <section class="content e-content">
            <p>é™¤äº†ä¼ ç»Ÿå‘½åçš„å‡½æ•°å¤–ï¼ŒKotlin è¿˜æ”¯æŒ <a href="https://kotlinlang.org/docs/reference/lambdas.html">lambdas</a>. <em>lambda</em> æ˜¯ç»„æˆå‡½æ•°çš„è¡¨è¾¾å¼ï¼Œä¸€ä¸ªæ²¡æœ‰åç§°çš„å‡½æ•°ã€‚lambda è¡¨è¾¾å¼å¯ä»¥ä½œä¸ºæ•°æ®ä¼ é€’ã€‚åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œlambda è¢«ç§°ä¸º <em>åŒ¿åå‡½æ•°ï¼ˆanonymous functionï¼‰</em>ï¼Œ<em>å‡½æ•°å­—é¢é‡ï¼ˆfunction literalsï¼‰</em> æˆ–ç±»ä¼¼åç§°ã€‚</p>
<h3 id="high-order-functions">High-order functions</h3>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ é€’ lambda åˆ°å¦ä¸€ä¸ªå‡½æ•°ï¼Œæ¥åˆ›å»º <em>é«˜é˜¶å‡½æ•°ï¼ˆhigh-order functionï¼‰</em>ã€‚<code>map</code> æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œä½ ä¼ å…¥çš„ lambda è¡¨è¾¾å¼æ˜¯éœ€è¦ <em>åº”ç”¨çš„è½¬æ¢ï¼ˆtransformation to applyï¼‰</em>ã€‚</p>
<h3 id="create-lambdas">Create lambdas</h3>
<p>ä¸å‘½åå‡½æ•°ä¸€æ ·ï¼Œlambda ä¹Ÿå¯ä»¥æœ‰å…¥å‚ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">val</span> waterFilter = { dirty: Int -&gt; dirty / <span style="color:#ae81ff">2</span> }
</code></pre></div><p>ä½äº <code>-&gt;</code> å·¦ä¾§çš„ä¸ºå…¥å‚åŠå…¥å‚ç±»å‹ï¼Œ<code>-&gt;</code> å³ä¾§å³ä¸ºéœ€è¦æ‰§è¡Œçš„ä»£ç ã€‚å°† lambda è¡¨è¾¾å¼èµ‹å€¼ç»™å˜é‡åï¼Œæˆ‘ä»¬å°±å¯ä»¥åƒå‡½æ•°ä¸€æ ·è°ƒç”¨å®ƒã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">println(waterFilter(<span style="color:#ae81ff">20</span>))

<span style="color:#75715e">// print =&gt; 10
</span></code></pre></div><p>Kotlin çš„å‡½æ•°è¯­æ³•ä¸ lambdas è¯­æ³•ç´§å¯†ç›¸å…³ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ç§è¯­æ³•æ˜ç¡®å£°æ˜ä¸€ä¸ªåŒ…å«å‡½æ•°çš„å˜é‡ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">val</span> waterFilter: (Int) -&gt; Int = {dirty -&gt; dirty / <span style="color:#ae81ff">2</span>}
</code></pre></div><h3 id="create-high-order-function">Create high-order function</h3>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ lambdas æ¥åˆ›å»ºé«˜é˜¶å‡½æ•°ï¼Œå³å‡½æ•°çš„å…¥å‚æ˜¯å¦ä¸€ä¸ªå‡½æ•°ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">updateDirty</span>(dirty: Int, operation: (Int) -&gt; Int): Int {
    <span style="color:#66d9ef">return</span> operation(dirty)
}
</code></pre></div><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <code>updateDirty</code> å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¦ä¸€ä¸ªå‡½æ•° <code>operation</code>ï¼Œ<code>operation</code> å‡½æ•°æ¥æ”¶ä¸€ä¸ª <code>Int</code> ç±»å‹çš„å…¥å‚å¹¶è¿”å› <code>Int</code>ç±»å‹çš„å€¼ã€‚å‡½æ•°ä½“å°†ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºå…¥å‚ï¼Œè°ƒç”¨äº†ä¼ å…¥çš„å‡½æ•°ã€‚</p>
<p>å¯¹äº <code>updateDirty</code> å‡½æ•°çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ a).åˆ›å»ºä¸€ä¸ª lambda ä¼ å…¥ï¼Œå¦‚ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">val</span> waterFilter: (Int) -&gt; Int = {dirty -&gt; dirty / <span style="color:#ae81ff">2</span>}
println(updateDirty(<span style="color:#ae81ff">20.</span> waterFilter))
</code></pre></div><p>é™¤äº†åˆ›å»º lambda å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ b).ä¼ å…¥å¸¸è§„çš„å‘½åå‡½æ•°ï¼Œåªæ˜¯ä¸ç›´æ¥ lambda å˜é‡ä¸åŒï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>::</code> æ“ä½œç¬¦æ¥ä¼ å…¥å‘½åå‡½æ•°çš„å¼•ç”¨ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">waterFilter</span>(dirty: Int): Int = dirty / <span style="color:#ae81ff">2</span>
println(updateDirty(<span style="color:#ae81ff">40</span>, <span style="color:#f92672">::</span>waterFilter))
</code></pre></div><p>è¿™ç§å•è¡Œçš„å‡½æ•°ä¹Ÿç§°ä¸º <em>compat functions</em> æˆ– <em>single-expression functions</em>ï¼Œå¯ä»¥å¢åŠ ä»£ç å¯è¯»æ€§ã€‚</p>
<h3 id="last-parameter-call-syntax">Last parameter call syntax</h3>
<p>Kotlin å€¾å‘äºå°†å¸¦æœ‰å‡½æ•°çš„ä»»æ„å‚æ•°ä½œä¸ºæœ€åä¸€ä¸ªå…¥å‚ã€‚åœ¨ä½¿ç”¨é«˜é˜¶å‡½æ•°æ—¶ï¼ŒKotlin æœ‰ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ï¼Œç§°ä¸º <a href="https://kotlinlang.org/docs/reference/lambdas.html#passing-a-lambda-to-the-last-parameter">last parameter call syntax</a> å¯ä»¥ä½¿ä»£ç æ›´åŠ ç®€æ´ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥ä¸€ä¸ª lambda è€Œæ— éœ€æ”¾å…¥æ‹¬å·å†…ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">var</span> dirty = <span style="color:#ae81ff">60</span>
dirty = updateDirty(dirty) { dirty -&gt; dirty / <span style="color:#ae81ff">2</span> }
println(dirty)
</code></pre></div>
        </section>
        <footer>
            <a class="permalink u-url" href="https://zacash.cn/post/lambdas-and-high-order-functions/">ğŸ”—</a>
            
            <hr class="post-underline">
            <p class="post-tag">Tags for this post:
                
                <a href="https://zacash.cn/tags/lambda" class="post-tag p-category">lambda</a>
                
                <a href="https://zacash.cn/tags/high-order-function" class="post-tag p-category">high-order function</a>
                
            </p>
            
        </footer>
    </article>
</div>

    
    <div class="h-card">
      <img class="u-photo" src="https://zacash.cn/images/android-os.png" />
      <div class="card-content">
        <h2 class="card-name"><a class="p-name u-url" href="https://zacash.cn" rel="me">Zac</a></h2>
        <p class="card-subhead">
          <span class="p-locality">Shanghai</span>,
          <span class="p-country-name">China</span><br />
          <a class="u-email" href="mailto:zac_ju@163.com">Email me</a>
        </p>
      </div>
      <p class="p-note">ğŸ­</p>
    </div>
    
    <div id="footer">
      
      <nav id="article-skip">
        <div class="next">
          
          <a alt="Newer article" href="https://zacash.cn/post/introducing-indigo/">&larr; Newer</a>
          
        </div>
        <div class="top">
          <a alt="Top of page" href="#">Top</a>
        </div>
        <div class="prev">
          
          <a alt="Older article" href="https://zacash.cn/post/use-hilt-in-android/">Older &rarr;</a>
          
        </div>
      </nav>
      
      <aside id="social">
  <div id="social-icons">
    
    
    
    
    <div class="icon-24x24">
      <a class="glyph" alt="GitHub profile" href="https://github.com/zac4j"><img src=https://zacash.cn/icons/github.svg height="24px" width="24px"></a>
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
  </div>
</aside>

      
      <p class="copyright">
          Copyright Â© 2020, Copyright Zac
      </p>
      
    </div>


</body>
</html>